(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function c(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerpolicy&&(n.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?n.credentials="include":t.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(t){if(t.ep)return;t.ep=!0;const n=c(t);fetch(t.href,n)}})();const e={current:{city:"",country:"",temp:0,feels_like:0,description:"",icon:"",wind:0,visibility:0},forecast:{threeHour:{time:"",temp:0,icon:""},sixHour:{time:"",temp:0,icon:""},nineHour:{time:"",temp:0,icon:""}},backgrounds:{winterNightBackground:"url(background-imgs/winter-night-time.webp)",winterDayBackground:"url(background-imgs/winter-day-time.webp)",dayBackground:"url(background-imgs/day-time.webp)",nightBackground:"url(background-imgs/night-time.webp)"}},s=document.querySelector(".three-hour"),d=document.querySelector(".six-hour"),g=document.querySelector(".nine-hour"),u=document.querySelector(".error-container"),m=document.querySelector(".temperature-value p"),p=document.querySelector(".location p"),h=document.querySelector(".description p"),f=document.querySelector(".icon"),y=document.querySelector(".wind p"),w=document.querySelector(".feels-like p"),H=document.querySelector(".local-time p"),k=document.querySelector(".date p"),b=document.querySelector(".visibility"),L=document.querySelector("#get-position"),r=new Date,S="bf8a6a9e6c78c59cdb9e6c5aa6b2eccc";function T(){p!==null&&m!==null&&h!==null&&f!==null&&w!==null&&y!==null&&b!==null&&s!==null&&d!==null&&g!==null&&(p.innerHTML=`${e.current.city}, ${e.current.country}`,m.innerHTML=`${e.current.temp}&#176;<span> C</span>`,w.innerHTML=`k\xE4nns som ${e.current.feels_like}<span>&#176; C</span>`,h.innerHTML=e.current.description,f.innerHTML=`<img src="./weather-icons/${e.current.icon}.png" loading="lay" alt="${e.current.description}" width="100" height="100" />`,y.innerHTML=`vind ${e.current.wind} m/s`,b.innerHTML=`sikt ${e.current.visibility} km`,s.innerHTML=`<p>${e.forecast.threeHour.time}</p>
    <img src="./weather-icons/${e.forecast.threeHour.icon}.png" loading="lay" alt="" width="30" height="30" />
    <p>${e.forecast.threeHour.temp}&#176;<span> C</span></p>`,d.innerHTML=`<p>${e.forecast.sixHour.time}</p>
    <img src="./weather-icons/${e.forecast.sixHour.icon}.png" loading="lay" alt="" width="30" height="30" />
    <p>${e.forecast.sixHour.temp}&#176;<span> C</span></p>`,g.innerHTML=`<p>${e.forecast.nineHour.time}</p>
    <img src="./weather-icons/${e.forecast.nineHour.icon}.png" loading="lay" alt="" width="30" height="30" />
    <p>${e.forecast.nineHour.temp}&#176;<span> C</span></p>`)}function M(){u!==null&&(u.style.display="block",u.innerHTML='"lyckades inte h\xE4mta data"')}async function $(l){const{latitude:i,longitude:c}=l.coords,o=`https://api.openweathermap.org/data/2.5/forecast?id=524901&units=metric&lang=sv&lat=${i}&lon=${c}&appid=${S}`;await fetch(o).then(t=>t.json()).then(t=>{e.current.city=t.city.name,e.current.country=t.city.country,e.current.temp=Math.round(t.list[0].main.temp),e.current.description=t.list[0].weather[0].description,e.current.feels_like=Math.round(t.list[0].main.feels_like),e.current.icon=t.list[0].weather[0].icon,e.current.wind=Math.round(t.list[0].wind.speed),e.current.visibility=Math.round(t.list[0].visibility/1e3),e.forecast.threeHour.time=new Date(t.list[0].dt*1e3).toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"}),e.forecast.threeHour.temp=Math.round(t.list[1].main.temp),e.forecast.threeHour.icon=t.list[1].weather[0].icon,e.forecast.sixHour.time=new Date(t.list[1].dt*1e3).toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"}),e.forecast.sixHour.temp=Math.round(t.list[2].main.temp),e.forecast.sixHour.icon=t.list[2].weather[0].icon,e.forecast.nineHour.time=new Date(t.list[2].dt*1e3).toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"}),e.forecast.nineHour.temp=Math.round(t.list[3].main.temp),e.forecast.nineHour.icon=t.list[3].weather[0].icon,T()}).catch(M)}function v(){"geolocation"in navigator&&navigator.geolocation.getCurrentPosition($,M)}L!==null&&L.addEventListener("click",v);function q(){r.getHours()<7||r.getHours()>17?r.getMonth()>9||r.getMonth()<3?document.body.style.backgroundImage=e.backgrounds.winterNightBackground:document.body.style.backgroundImage=e.backgrounds.nightBackground:r.getMonth()<9||r.getMonth()>3?document.body.style.backgroundImage=e.backgrounds.winterDayBackground:document.body.style.backgroundImage=e.backgrounds.dayBackground}function x(){H!=null&&k!=null&&(k.innerHTML=r.toLocaleDateString(),H.innerHTML=r.toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"})),q()}x();
