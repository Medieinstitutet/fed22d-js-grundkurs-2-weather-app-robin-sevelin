(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const i of e)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&c(l)}).observe(document,{childList:!0,subtree:!0});function u(e){const i={};return e.integrity&&(i.integrity=e.integrity),e.referrerpolicy&&(i.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?i.credentials="include":e.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function c(e){if(e.ep)return;e.ep=!0;const i=u(e);fetch(e.href,i)}})();const g=document.querySelector(".three-hour"),m=document.querySelector(".six-hour"),p=document.querySelector(".nine-hour"),s=document.querySelector(".error-container"),h=document.querySelector(".temperature-value p"),y=document.querySelector(".location p"),f=document.querySelector(".description p"),w=document.querySelector(".icon"),H=document.querySelector(".wind p"),k=document.querySelector(".feels-like p"),b=document.querySelector(".local-time p"),L=document.querySelector(".date p"),M=document.querySelector(".visibility"),$=document.querySelector("#get-position"),o=new Date,T="bf8a6a9e6c78c59cdb9e6c5aa6b2eccc",t={city:"",country:"",temp:0,feels_like:0,description:"",icon:"",wind:0,visibility:0},n={threeHour:{time:"",temp:0,icon:""},sixHour:{time:"",temp:0,icon:""},nineHour:{time:"",temp:0,icon:""}},a={winterNightBackground:"url(background-imgs/winter-night-time.webp)",winterDayBackground:"url(background-imgs/winter-day-time.webp)",dayBackground:"url(background-imgs/day-time.webp)",nightBackground:"url(background-imgs/night-time.webp)"};function v(){y!==null&&h!==null&&f!==null&&w!==null&&k!==null&&H!==null&&M!==null&&g!==null&&m!==null&&p!==null&&(y.innerHTML=`${t.city}, ${t.country}`,h.innerHTML=`${t.temp}&#176;<span> C</span>`,k.innerHTML=`k\xE4nns som ${t.feels_like}<span>&#176; C</span>`,f.innerHTML=t.description,w.innerHTML=`<img src="./weather-icons/${t.icon}.png" loading="lay" alt="${t.description}" width="100" height="100" />`,H.innerHTML=`vind ${t.wind} m/s`,M.innerHTML=`sikt ${t.visibility} km`,g.innerHTML=`<p>${n.threeHour.time}</p>
    <img src="./weather-icons/${n.threeHour.icon}.png" loading="lay" alt="${t.description}" width="50" height="50" />
    <p>${n.threeHour.temp}&#176;<span> C</span></p>`,m.innerHTML=`<p>${n.sixHour.time}</p>
    <img src="./weather-icons/${n.sixHour.icon}.png" loading="lay" alt="${t.description}" width="50" height="50" />
    <p>${n.sixHour.temp}&#176;<span> C</span></p>`,p.innerHTML=`<p>${n.nineHour.time}</p>
    <img src="./weather-icons/${n.nineHour.icon}.png" loading="lay" alt="${t.description}" width="50" height="50" />
    <p>${n.nineHour.temp}&#176;<span> C</span></p>`)}function S(){s!==null&&(s.style.display="block",s.innerHTML='"lyckades inte h\xE4mta data"')}async function q(d){const{latitude:r,longitude:u}=d.coords,c=`https://api.openweathermap.org/data/2.5/forecast?id=524901&units=metric&lang=sv&lat=${r}&lon=${u}&appid=${T}`;await fetch(c).then(e=>e.json()).then(e=>{t.city=e.city.name,t.country=e.city.country,t.temp=Math.round(e.list[0].main.temp),t.description=e.list[0].weather[0].description,t.feels_like=Math.round(e.list[0].main.feels_like),t.icon=e.list[0].weather[0].icon,t.wind=Math.round(e.list[0].wind.speed),t.visibility=Math.round(e.list[0].visibility/1e3),n.threeHour.time=new Date(1672272e3*1e3).toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"}),n.threeHour.temp=Math.round(e.list[1].main.temp),n.threeHour.icon=e.list[1].weather[0].icon,n.sixHour.time=new Date(1672282800*1e3).toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"}),n.sixHour.temp=Math.round(e.list[2].main.temp),n.sixHour.icon=e.list[2].weather[0].icon,n.nineHour.time=new Date(1672293600*1e3).toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"}),n.nineHour.temp=Math.round(e.list[3].main.temp),n.nineHour.icon=e.list[3].weather[0].icon,v()}).catch(S)}function x(){"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(q,S)}$!==null&&$.addEventListener("click",x);function C(){o.getHours()<7||o.getHours()>17?o.getMonth()>9||o.getMonth()<3?document.body.style.backgroundImage=a.winterNightBackground:document.body.style.backgroundImage=a.nightBackground:o.getMonth()<9||o.getMonth()>3?document.body.style.backgroundImage=a.winterDayBackground:document.body.style.backgroundImage=a.dayBackground}function B(){b!=null&&L!=null&&(L.innerHTML=o.toLocaleDateString(),b.innerHTML=o.toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"})),C()}B();
