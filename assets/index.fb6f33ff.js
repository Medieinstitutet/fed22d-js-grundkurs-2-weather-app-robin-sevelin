(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const u of n.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function a(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerpolicy&&(n.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?n.credentials="include":e.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(e){if(e.ep)return;e.ep=!0;const n=a(e);fetch(e.href,n)}})();const t={current:{city:"",country:"",temp:0,feels_like:0,description:"",icon:"",wind:0,visibility:0},forecast:{threeHour:{time:"",temp:0,icon:""},sixHour:{time:"",temp:0,icon:""},nineHour:{time:"",temp:0,icon:""}}},d=document.querySelector(".three-hour"),g=document.querySelector(".six-hour"),m=document.querySelector(".nine-hour"),l=document.querySelector(".error-container"),p=document.querySelector(".temperature-value p"),h=document.querySelector(".location p"),f=document.querySelector(".description p"),y=document.querySelector(".icon"),w=document.querySelector(".wind p"),H=document.querySelector(".feels-like p"),k=document.querySelector(".local-time p"),b=document.querySelector(".date p"),L=document.querySelector(".visibility"),M=document.querySelector("#get-position"),r=new Date,T="bf8a6a9e6c78c59cdb9e6c5aa6b2eccc",c={winterNightBackground:"url(background-imgs/winter-night-time.webp)",winterDayBackground:"url(background-imgs/winter-day-time.webp)",dayBackground:"url(background-imgs/day-time.webp)",nightBackground:"url(background-imgs/night-time.webp)"};function $(){h!==null&&p!==null&&f!==null&&y!==null&&H!==null&&w!==null&&L!==null&&d!==null&&g!==null&&m!==null&&(h.innerHTML=`${t.current.city}, ${t.current.country}`,p.innerHTML=`${t.current.temp}&#176;<span> C</span>`,H.innerHTML=`k\xE4nns som ${t.current.feels_like}<span>&#176; C</span>`,f.innerHTML=t.current.description,y.innerHTML=`<img src="./weather-icons/${t.current.icon}.png" loading="lay" alt="${t.current.description}" width="100" height="100" />`,w.innerHTML=`vind ${t.current.wind} m/s`,L.innerHTML=`sikt ${t.current.visibility} km`,d.innerHTML=`<p>${t.forecast.threeHour.time}</p>
    <img src="./weather-icons/${t.forecast.threeHour.icon}.png" loading="lay" alt="" width="30" height="30" />
    <p>${t.forecast.threeHour.temp}&#176;<span> C</span></p>`,g.innerHTML=`<p>${t.forecast.sixHour.time}</p>
    <img src="./weather-icons/${t.forecast.sixHour.icon}.png" loading="lay" alt="" width="30" height="30" />
    <p>${t.forecast.sixHour.temp}&#176;<span> C</span></p>`,m.innerHTML=`<p>${t.forecast.nineHour.time}</p>
    <img src="./weather-icons/${t.forecast.nineHour.icon}.png" loading="lay" alt="" width="30" height="30" />
    <p>${t.forecast.nineHour.temp}&#176;<span> C</span></p>`)}function S(){l!==null&&(l.style.display="block",l.innerHTML='"lyckades inte h\xE4mta data"')}async function v(s){const{latitude:i,longitude:a}=s.coords,o=`https://api.openweathermap.org/data/2.5/forecast?id=524901&units=metric&lang=sv&lat=${i}&lon=${a}&appid=${T}`;await fetch(o).then(e=>e.json()).then(e=>{t.current.city=e.city.name,t.current.country=e.city.country,t.current.temp=Math.round(e.list[0].main.temp),t.current.description=e.list[0].weather[0].description,t.current.feels_like=Math.round(e.list[0].main.feels_like),t.current.icon=e.list[0].weather[0].icon,t.current.wind=Math.round(e.list[0].wind.speed),t.current.visibility=Math.round(e.list[0].visibility/1e3),t.forecast.threeHour.time=new Date(e.list[0].dt*1e3).toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"}),t.forecast.threeHour.temp=Math.round(e.list[1].main.temp),t.forecast.threeHour.icon=e.list[1].weather[0].icon,t.forecast.sixHour.time=new Date(e.list[1].dt*1e3).toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"}),t.forecast.sixHour.temp=Math.round(e.list[2].main.temp),t.forecast.sixHour.icon=e.list[2].weather[0].icon,t.forecast.nineHour.time=new Date(e.list[2].dt*1e3).toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"}),t.forecast.nineHour.temp=Math.round(e.list[3].main.temp),t.forecast.nineHour.icon=e.list[3].weather[0].icon,$()}).catch(S)}function q(){"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(v,S)}M!==null&&M.addEventListener("click",q);function x(){r.getHours()<7||r.getHours()>17?r.getMonth()>9||r.getMonth()<3?document.body.style.backgroundImage=c.winterNightBackground:document.body.style.backgroundImage=c.nightBackground:r.getMonth()<9||r.getMonth()>3?document.body.style.backgroundImage=c.winterDayBackground:document.body.style.backgroundImage=c.dayBackground}function C(){k!=null&&b!=null&&(b.innerHTML=r.toLocaleDateString(),k.innerHTML=r.toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"})),x()}C();
