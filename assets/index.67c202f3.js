(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function a(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerpolicy&&(n.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?n.credentials="include":e.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(e){if(e.ep)return;e.ep=!0;const n=a(e);fetch(e.href,n)}})();const s=document.querySelector(".temperature-value p"),c=document.querySelector(".location p"),d=document.querySelector(".description p"),g=document.querySelector(".icon"),m=document.querySelector(".wind p"),f=document.querySelector(".feels-like p"),p=document.querySelector(".local-time p"),y=document.querySelector(".date p"),h=document.querySelector("#get-position"),k="url(background-imgs/winter-night-time.webp)",b="url(background-imgs/winter-day-time.webp)",L="url(background-imgs/day-time.webp)",M="url(background-imgs/night-time.webp)",S="bf8a6a9e6c78c59cdb9e6c5aa6b2eccc",o=new Date,t={city:"",country:"",temp:0,feels_like:0,description:"",icon:"",wind:0};function T(){c!==null&&s!==null&&d!==null&&g!==null&&f!==null&&m!==null&&(c.innerHTML=`${t.city}, ${t.country}`,s.innerHTML=`${t.temp}&#176;<span> C</span>`,f.innerHTML=`k\xE4nns som ${t.feels_like}<span>&#176; C</span>`,d.innerHTML=t.description,g.innerHTML=`<img src="/weather-icons/${t.icon}.png" alt="${t.description}" width="100" height="100" />`,m.innerHTML=`vind ${t.wind} m/s`)}function w(){c!==null&&(c.innerHTML="lyckades inte h\xE4mta data")}async function H(u){const{latitude:i,longitude:a}=u.coords,r=`https://api.openweathermap.org/data/2.5/forecast?id=524901&units=metric&lang=sv&lat=${i}&lon=${a}&appid=${S}`;await fetch(r).then(e=>e.json()).then(e=>{t.city=e.city.name,t.country=e.city.country,t.temp=Math.round(e.list[0].main.temp),t.description=e.list[0].weather[0].description,t.feels_like=Math.round(e.list[0].main.feels_like),t.icon=e.list[0].weather[0].icon,t.wind=Math.round(e.list[0].wind.speed),console.log(t),T()}).catch(w)}function q(){"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(H,w)}h!==null&&h.addEventListener("click",q);function $(){o.getHours()<7||o.getHours()>17?o.getMonth()>9||o.getMonth()<3?document.body.style.backgroundImage=k:document.body.style.backgroundImage=M:o.getMonth()<9||o.getMonth()>3?document.body.style.backgroundImage=b:document.body.style.backgroundImage=L}function v(){p!=null&&y!=null&&(y.innerHTML=o.toLocaleDateString(),p.innerHTML=o.toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"})),$()}v();
